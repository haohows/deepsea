(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{228:function(t,e,r){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},229:function(t,e,r){t.exports=r.p+"img/5537a18.png"},230:function(t,e,r){t.exports=r.p+"img/9463b46.png"},231:function(t,e,r){t.exports=r.p+"img/f08f941.png"},252:function(t,e,r){var content=r(299);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(41).default)("ebbabbb0",content,!0,{sourceMap:!1})},298:function(t,e,r){"use strict";var n=r(252);r.n(n).a},299:function(t,e,r){var n=r(40),o=r(228),d=r(229),c=r(230),l=r(231);e=n(!1);var v=o(d),h=o(c),x=o(l);e.push([t.i,".NextRound[data-v-75bbd97c]{width:400px;padding:20px 0;height:250px;position:relative;z-index:2;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:opacity .5s}.NextRound.hide[data-v-75bbd97c]{opacity:0}.NextRoundBtn[data-v-75bbd97c]{width:250px;display:flex;justify-content:space-between;align-items:center}.NextRoundBtn .NextRoundGame[data-v-75bbd97c]{height:40px;width:100%}.title[data-v-75bbd97c]{color:#fff;font-size:30px;margin-bottom:30px}.content button[data-v-75bbd97c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:0;border:0;padding:10px 15px;color:#fff;border-radius:3px;cursor:pointer;font-size:18px;transition-duration:.25s;background-color:hsla(0,0%,100%,.2);border:1px solid hsla(0,0%,100%,.4)}.content button[data-v-75bbd97c]:hover{background-color:#fff;color:#53e3a6}.content button:hover .moveDom .spinner-border[data-v-75bbd97c]{color:#53e3a6!important}.moveDom[data-v-75bbd97c]{transform:translateY(-4px)}.resText[data-v-75bbd97c]{width:250px;color:#fff;text-align:left;min-height:30px;margin-top:10px}.playerGroup[data-v-75bbd97c]{display:flex;margin-bottom:30px}.roles[data-v-75bbd97c]{display:flex;align-items:center;border-radius:10px;background-color:hsla(0,0%,100%,.2);border:2px solid hsla(0,0%,100%,.4);padding:10px 10px 14px;margin:0 10px}.roles .player[data-v-75bbd97c]{width:100px;height:140px;background-position:50%;background-size:contain;background-repeat:no-repeat;line-height:160px;text-align:center;border-radius:3px}.roles p[data-v-75bbd97c]{color:#53e3a6;font-weight:700;font-size:22px;margin-bottom:5px}.roles01Img[data-v-75bbd97c]{background-image:url("+v+")}.roles02Img[data-v-75bbd97c]{background-image:url("+h+")}.roles03Img[data-v-75bbd97c]{background-image:url("+x+")}.treasureList[data-v-75bbd97c]{width:210px;height:95px;display:flex;justify-content:flex-start;flex-wrap:wrap}.cube[data-v-75bbd97c]{width:45px;height:45px;transform-style:preserve-3d;transform:rotateX(-10deg) rotateY(70deg) rotate(-5deg);display:inline-block;margin:0 10px;cursor:pointer}.cube>div[data-v-75bbd97c]{transform-style:preserve-3d}.cube>div[data-v-75bbd97c],.cube>div>div[data-v-75bbd97c]{position:absolute;left:50%;top:50%}.cube>div>div[data-v-75bbd97c]{width:45px;height:45px;border-radius:3.75px;background:hsla(0,0%,86.7%,.2);background:linear-gradient(rgba(53,169,237,.2),rgba(17,0,255,.1));box-shadow:0 0 2px #fff,inset 0 0 2px #fff}.cube>div .side[data-v-75bbd97c]{height:22.5px;text-align:center;line-height:22.5px}.cube>div>div.side[data-v-75bbd97c]:first-child{transform:translateZ(22.5px)}.cube>div>div[data-v-75bbd97c]:nth-child(2){transform:rotateX(90deg) translateZ(22.5px)}.cube>div>div.side[data-v-75bbd97c]:nth-child(3){transform:rotateX(180deg) translateZ(22.5px)}.cube>div>div[data-v-75bbd97c]:nth-child(4){transform:rotateX(270deg) translateZ(0)}.cube>div>div.side[data-v-75bbd97c]:nth-child(5){transform:rotateY(90deg) translateZ(22.5px)}.cube>div>div.side[data-v-75bbd97c]:nth-child(6){transform:rotateY(-90deg) translateZ(22.5px)}.cube.treasureKind1>div>div[data-v-75bbd97c]{background:linear-gradient(rgba(46,200,206,.2),rgba(2,92,99,.1))}.cube.treasureKind2>div>div[data-v-75bbd97c]{background:linear-gradient(rgba(53,169,237,.2),rgba(17,0,255,.1))}.cube.treasureKind3>div>div[data-v-75bbd97c]{background:linear-gradient(rgba(236,43,29,.2),rgba(202,103,63,.26))}.cube.treasureKind4>div>div[data-v-75bbd97c]{background:linear-gradient(rgba(162,165,12,.35),rgba(81,255,0,.2))}.cube.treasureKind5>div>div[data-v-75bbd97c]{background:linear-gradient(rgba(0,0,0,.4),rgba(0,0,0,.2))}.textWrap[data-v-75bbd97c]{position:relative}.textWrap .textStyle[data-v-75bbd97c]{position:absolute;left:12px;top:-2px;color:#fff;text-shadow:0 0 12px #fff,0 0 12px #fff,0 0 12px #fff,0 0 12px #fff}.textWrap .textStyle .integralText[data-v-75bbd97c]{width:30px;height:25px;text-align:center}.playerGroup.v-m[data-v-75bbd97c]{display:none}@media (max-width:415px){.playerGroup.v-pc[data-v-75bbd97c]{display:none}.playerGroup.v-m[data-v-75bbd97c]{display:block}.playerGroup.v-m .roles[data-v-75bbd97c]{width:260px;margin:10px}.playerGroup.v-m .roles p[data-v-75bbd97c]{width:100px;margin-top:5px}}",""]),t.exports=e},307:function(t,e,r){"use strict";r.r(e);r(10);var n=r(13),o=(r(87),r(52)),d={data:function(){return{gameID:sessionStorage.getItem("gameID"),hide:!0,player:{},checkChangeRound:0,sunkTreasure:!1,nextRoundData:!1,roundNumber:1,loading:!1,resText:""}},computed:{roles1CountIntegral:function(){return this.player.roles1.integralCount},roles2CountIntegral:function(){return this.player.roles2.integralCount},roles3CountIntegral:function(){return this.player.roles3.integralCount},createNewTreasureData:function(){if(null!=this.sunkTreasure){for(var data=[],i=0;i<this.sunkTreasure.length;i++)data.push({integral:this.sunkTreasure[i],point:!1,back:!1,empty:!1,kind:5});return data}},nextRoundAllData:function(){return null==this.createNewTreasureData?this.nextRoundData:[].concat(Object(n.a)(this.nextRoundData),Object(n.a)(this.createNewTreasureData))}},watch:{checkChangeRound:function(t){t>=3&&this.setNextRoundData()}},methods:{clickNextRound:function(){this.loading=!0,this.resText="等待其他玩家確認中...";var t=this.checkChangeRound+1;o.a.ref("/game/".concat(this.gameID,"/gameData/checkChangeRound")).set(t)},setNextRoundData:function(){var t={data:Object(n.a)(this.nextRoundAllData),actionRecord:[""],player:{roles1:{playerName:this.player.roles1.playerName,playerPosition:0,playerOrder:1,playerIsGoBack:!1,diceLock:!1,canNotGo:!1,treasureBox:!1,runLock:!0,returnLock:!0,nextLock:!0,getLock:!0,putLock:!0,goBackSwitch:{init:!1,active:!1},integralCount:this.roles1CountIntegral},roles2:{playerName:this.player.roles2.playerName,playerPosition:0,playerOrder:2,playerIsGoBack:!1,diceLock:!1,canNotGo:!1,treasureBox:!1,runLock:!0,returnLock:!0,nextLock:!0,getLock:!0,putLock:!0,goBackSwitch:{init:!1,active:!1},integralCount:this.roles2CountIntegral},roles3:{playerName:this.player.roles3.playerName,playerPosition:0,playerOrder:3,playerIsGoBack:!1,diceLock:!1,canNotGo:!1,treasureBox:!1,runLock:!0,returnLock:!0,nextLock:!0,getLock:!0,putLock:!0,goBackSwitch:{init:!1,active:!1},integralCount:this.roles3CountIntegral}},turn:1,points:0,oxygen:25,createPoints:0,delay:1e3,overPlayerTotal:0,pointsBack:!1,hide:!0,arrivalSubmarine:0,sunkTreasure:!1,nextRoundData:!1,roundNumber:this.roundNumber+1,checkChangeRound:0};o.a.ref("/game/".concat(this.gameID)).update({gameData:t}),this.playNextRound()},playNextRound:function(){var t=this;this.hide=!0,setTimeout((function(){t.$router.replace({name:"index-game"})}),500)},countIntegral:function(t){var e=0;for(var r in t)e+=t[r].integral;return e},overGame:function(){var t=this;o.a.ref("/game").child(this.gameID).remove(),sessionStorage.removeItem("gameID"),sessionStorage.removeItem("playerOrder"),this.hide=!0,setTimeout((function(){t.$router.replace({name:"index"})}),500)}},mounted:function(){var t=this,e=sessionStorage.getItem("gameID");o.a.ref("/game/".concat(e,"/gameData")).once("value",(function(e){t.player=e.val().player,t.checkChangeRound=e.val().checkChangeRound,t.sunkTreasure=e.val().sunkTreasure,t.nextRoundData=e.val().nextRoundData,t.roundNumber=e.val().roundNumber})),o.a.ref("/game/".concat(e,"/gameData")).on("value",(function(e){t.checkChangeRound=e.val().checkChangeRound})),setTimeout((function(){t.hide=!1}),500)}},c=(r(298),r(34)),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"NextRound",class:{hide:t.hide}},[r("h1",{staticClass:"title"},[t._v("第"+t._s(this.roundNumber)+"回合 - 成績結算")]),t._v(" "),r("div",{staticClass:"playerGroup v-pc"},t._l(this.player,(function(e,n){return r("div",{key:n,staticClass:"roles"},[r("div",[r("p",{staticClass:"text-center"},[t._v(t._s(e.playerName))]),t._v(" "),r("div",{staticClass:"player",class:{roles01Img:1==e.playerOrder,roles02Img:2==e.playerOrder,roles03Img:3==e.playerOrder}})]),t._v(" "),r("div",{staticStyle:{height:"140px"}},[r("div",{staticClass:"treasureList"},t._l(e.treasureBox,(function(e,n){return r("div",{key:n},[!0!==e.hide?r("div",{staticClass:"cube",class:{treasureKind1:1==e.kind,treasureKind2:2==e.kind,treasureKind3:3==e.kind,treasureKind4:4==e.kind,treasureKind5:5==e.kind},on:{click:function(r){return t.putDown(e,n)}}},[t._m(0,!0),t._v(" "),r("div",[r("div",{staticClass:"side"}),t._v(" "),r("div"),t._v(" "),r("div",{staticClass:"side"}),t._v(" "),r("div",{staticClass:"bg-white"}),t._v(" "),r("div",{staticClass:"side"}),t._v(" "),r("div",{staticClass:"side textWrap"},[r("div",{staticClass:"textStyle"},[r("div",{staticClass:"integralText"},[t._v(t._s(e.integral))])])])])]):t._e()])})),0),t._v(" "),r("div",{staticClass:"w-100 mt-3 pl-2 text-white"},[t._v("回合積分："+t._s(t.countIntegral(e.treasureBox)))]),t._v(" "),r("div",{staticClass:"w-100 mt-2 pl-2 text-white"},[t._v("累計積分："+t._s(e.integralCount))])])])})),0),t._v(" "),r("div",{staticClass:"playerGroup v-m"},t._l(this.player,(function(e,n){return r("div",{key:n,staticClass:"roles"},[r("div",[r("p",{staticClass:"text-center"},[t._v(t._s(e.playerName))])]),t._v(" "),r("div",[r("div",{staticClass:"w-100 mt-2 mb-2 pl-2 text-white"},[t._v("回合積分："+t._s(t.countIntegral(e.treasureBox)))]),t._v(" "),r("div",{staticClass:"w-100 mb-2 pl-2 text-white"},[t._v("累計積分："+t._s(e.integralCount))])])])})),0),t._v(" "),r("div",{staticClass:"NextRoundBtn"},[t.roundNumber<3?r("button",{staticClass:"NextRoundGame mt-4",attrs:{disabled:t.loading},on:{click:t.clickNextRound}},[t.loading?r("div",{staticClass:"moveDom"},[r("div",{staticClass:"spinner-border spinner-border-sm text-light",attrs:{role:"status"}})]):r("div",[t._v("開始下一回合")])]):r("button",{staticClass:"NextRoundGame mt-4",on:{click:t.overGame}},[t._v("遊戲結束")])]),t._v(" "),r("div",{staticClass:"resText"},[t._v(t._s(t.resText))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"side"}),this._v(" "),e("div"),this._v(" "),e("div",{staticClass:"side"}),this._v(" "),e("div"),this._v(" "),e("div",{staticClass:"side"}),this._v(" "),e("div",{staticClass:"side"})])}],!1,null,"75bbd97c",null);e.default=component.exports}}]);