(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{228:function(e,t,r){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},229:function(e,t,r){e.exports=r.p+"img/5537a18.png"},230:function(e,t,r){e.exports=r.p+"img/9463b46.png"},231:function(e,t,r){e.exports=r.p+"img/f08f941.png"},252:function(e,t,r){var content=r(299);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(41).default)("2844a69f",content,!0,{sourceMap:!1})},298:function(e,t,r){"use strict";var n=r(252);r.n(n).a},299:function(e,t,r){var n=r(40),o=r(228),d=r(229),c=r(230),l=r(231);t=n(!1);var v=o(d),f=o(c),h=o(l);t.push([e.i,".NextRound[data-v-21c9dfe6]{width:400px;padding:20px 0;height:250px;position:relative;z-index:2;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:opacity .5s}.NextRound.hide[data-v-21c9dfe6]{opacity:0}.NextRoundBtn[data-v-21c9dfe6]{width:250px;display:flex;justify-content:space-between;align-items:center}.NextRoundBtn .NextRoundGame[data-v-21c9dfe6]{height:40px;width:100%}.title[data-v-21c9dfe6]{color:#fff;font-size:30px;margin-bottom:30px}.content button[data-v-21c9dfe6]{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:0;border:0;padding:10px 15px;color:#fff;border-radius:3px;cursor:pointer;font-size:18px;transition-duration:.25s;background-color:hsla(0,0%,100%,.2);border:1px solid hsla(0,0%,100%,.4)}.content button[data-v-21c9dfe6]:hover{background-color:#fff;color:#53e3a6}.content button:hover .moveDom .spinner-border[data-v-21c9dfe6]{color:#53e3a6!important}.moveDom[data-v-21c9dfe6]{transform:translateY(-4px)}.resText[data-v-21c9dfe6]{width:250px;color:#fff;text-align:left;min-height:30px;margin-top:10px}.playerGroup[data-v-21c9dfe6]{display:flex;margin-bottom:30px}.roles[data-v-21c9dfe6]{display:flex;align-items:center;border-radius:10px;background-color:hsla(0,0%,100%,.2);border:2px solid hsla(0,0%,100%,.4);padding:10px 10px 14px;margin:0 10px}.roles .player[data-v-21c9dfe6]{width:100px;height:140px;background-position:50%;background-size:contain;background-repeat:no-repeat;line-height:160px;text-align:center;border-radius:3px}.roles p[data-v-21c9dfe6]{color:#53e3a6;font-weight:700;font-size:22px;margin-bottom:5px}.roles01Img[data-v-21c9dfe6]{background-image:url("+v+")}.roles02Img[data-v-21c9dfe6]{background-image:url("+f+")}.roles03Img[data-v-21c9dfe6]{background-image:url("+h+")}.treasureList[data-v-21c9dfe6]{width:210px;height:95px;display:flex;justify-content:flex-start;flex-wrap:wrap}.cube[data-v-21c9dfe6]{width:45px;height:45px;transform-style:preserve-3d;transform:rotateX(-10deg) rotateY(70deg) rotate(-5deg);display:inline-block;margin:0 10px;cursor:pointer}.cube>div[data-v-21c9dfe6]{transform-style:preserve-3d}.cube>div[data-v-21c9dfe6],.cube>div>div[data-v-21c9dfe6]{position:absolute;left:50%;top:50%}.cube>div>div[data-v-21c9dfe6]{width:45px;height:45px;border-radius:3.75px;background:hsla(0,0%,86.7%,.2);background:linear-gradient(rgba(53,169,237,.2),rgba(17,0,255,.1));box-shadow:0 0 2px #fff,inset 0 0 2px #fff}.cube>div .side[data-v-21c9dfe6]{height:22.5px;text-align:center;line-height:22.5px}.cube>div>div.side[data-v-21c9dfe6]:first-child{transform:translateZ(22.5px)}.cube>div>div[data-v-21c9dfe6]:nth-child(2){transform:rotateX(90deg) translateZ(22.5px)}.cube>div>div.side[data-v-21c9dfe6]:nth-child(3){transform:rotateX(180deg) translateZ(22.5px)}.cube>div>div[data-v-21c9dfe6]:nth-child(4){transform:rotateX(270deg) translateZ(0)}.cube>div>div.side[data-v-21c9dfe6]:nth-child(5){transform:rotateY(90deg) translateZ(22.5px)}.cube>div>div.side[data-v-21c9dfe6]:nth-child(6){transform:rotateY(-90deg) translateZ(22.5px)}.cube.treasureKind1>div>div[data-v-21c9dfe6]{background:linear-gradient(rgba(46,200,206,.2),rgba(2,92,99,.1))}.cube.treasureKind2>div>div[data-v-21c9dfe6]{background:linear-gradient(rgba(53,169,237,.2),rgba(17,0,255,.1))}.cube.treasureKind3>div>div[data-v-21c9dfe6]{background:linear-gradient(rgba(236,43,29,.2),rgba(202,103,63,.26))}.cube.treasureKind4>div>div[data-v-21c9dfe6]{background:linear-gradient(rgba(162,165,12,.35),rgba(81,255,0,.2))}.cube.treasureKind5>div>div[data-v-21c9dfe6]{background:linear-gradient(rgba(0,0,0,.4),rgba(0,0,0,.2))}.textWrap[data-v-21c9dfe6]{position:relative}.textWrap .textStyle[data-v-21c9dfe6]{position:absolute;left:12px;top:-2px;color:#fff;text-shadow:0 0 12px #fff,0 0 12px #fff,0 0 12px #fff,0 0 12px #fff}.textWrap .textStyle .integralText[data-v-21c9dfe6]{width:30px;height:25px;text-align:center}.NextRoundBtn.onlryWatchView[data-v-21c9dfe6],.playerGroup.v-m[data-v-21c9dfe6]{display:none}@media (max-width:415px){.playerGroup.v-pc[data-v-21c9dfe6]{display:none}.playerGroup.v-m[data-v-21c9dfe6]{display:block}.playerGroup.v-m .roles[data-v-21c9dfe6]{width:260px;margin:10px}.playerGroup.v-m .roles p[data-v-21c9dfe6]{width:100px;margin-top:5px}}",""]),e.exports=t},307:function(e,t,r){"use strict";r.r(t);r(10);var n=r(13),o=(r(87),r(52)),d={data:function(){return{gameID:sessionStorage.getItem("gameID"),hide:!0,player:{},checkChangeRound:0,sunkTreasure:!1,nextRoundData:!1,roundNumber:1,loading:!1,resText:""}},computed:{roles1CountIntegral:function(){return this.player.roles1.integralCount},roles2CountIntegral:function(){return this.player.roles2.integralCount},roles3CountIntegral:function(){return this.player.roles3.integralCount},createNewTreasureData:function(){if(null!=this.sunkTreasure){for(var data=[],i=0;i<this.sunkTreasure.length;i++)data.push({integral:this.sunkTreasure[i],point:!1,back:!1,empty:!1,kind:5});return data}},nextRoundAllData:function(){return null==this.createNewTreasureData?this.nextRoundData:[].concat(Object(n.a)(this.nextRoundData),Object(n.a)(this.createNewTreasureData))},onlryWatch:function(){return"onlyWatch"==sessionStorage.getItem("playerOrder")}},watch:{checkChangeRound:function(e){e>=3&&this.setNextRoundData()}},methods:{clickNextRound:function(){this.loading=!0,this.resText="等待其他玩家確認中...";var e=this.checkChangeRound+1;o.a.ref("/game/".concat(this.gameID,"/gameData/checkChangeRound")).set(e)},setNextRoundData:function(){var e={data:Object(n.a)(this.nextRoundAllData),actionRecord:[""],player:{roles1:{playerName:this.player.roles1.playerName,playerPosition:0,playerOrder:1,playerIsGoBack:!1,diceLock:!1,canNotGo:!1,treasureBox:!1,runLock:!0,returnLock:!0,nextLock:!0,getLock:!0,putLock:!0,goBackSwitch:{init:!1,active:!1},integralCount:this.roles1CountIntegral},roles2:{playerName:this.player.roles2.playerName,playerPosition:0,playerOrder:2,playerIsGoBack:!1,diceLock:!1,canNotGo:!1,treasureBox:!1,runLock:!0,returnLock:!0,nextLock:!0,getLock:!0,putLock:!0,goBackSwitch:{init:!1,active:!1},integralCount:this.roles2CountIntegral},roles3:{playerName:this.player.roles3.playerName,playerPosition:0,playerOrder:3,playerIsGoBack:!1,diceLock:!1,canNotGo:!1,treasureBox:!1,runLock:!0,returnLock:!0,nextLock:!0,getLock:!0,putLock:!0,goBackSwitch:{init:!1,active:!1},integralCount:this.roles3CountIntegral}},turn:1,points:0,oxygen:25,createPoints:0,delay:1e3,overPlayerTotal:0,pointsBack:!1,hide:!0,arrivalSubmarine:0,sunkTreasure:!1,nextRoundData:!1,roundNumber:this.roundNumber+1,checkChangeRound:0};o.a.ref("/game/".concat(this.gameID)).update({gameData:e}),this.playNextRound()},playNextRound:function(){var e=this;this.hide=!0,setTimeout((function(){e.$router.replace({name:"index-game"})}),500)},countIntegral:function(e){var t=0;for(var r in e)t+=e[r].integral;return t},overGame:function(){var e=this;o.a.ref("/game").child(this.gameID).remove(),sessionStorage.removeItem("gameID"),sessionStorage.removeItem("playerOrder"),this.hide=!0,setTimeout((function(){e.$router.replace({name:"index"})}),500)}},mounted:function(){var e=this,t=sessionStorage.getItem("gameID");o.a.ref("/game/".concat(t,"/gameData")).once("value",(function(t){e.player=t.val().player,e.checkChangeRound=t.val().checkChangeRound,e.sunkTreasure=t.val().sunkTreasure,e.nextRoundData=t.val().nextRoundData,e.roundNumber=t.val().roundNumber})),o.a.ref("/game/".concat(t,"/gameData")).on("value",(function(t){e.checkChangeRound=t.val().checkChangeRound})),setTimeout((function(){e.hide=!1}),500)}},c=(r(298),r(34)),component=Object(c.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("div",{staticClass:"NextRound",class:{hide:e.hide}},[r("h1",{staticClass:"title"},[e._v("第"+e._s(this.roundNumber)+"回合 - 成績結算")]),e._v(" "),r("div",{staticClass:"playerGroup v-pc"},e._l(this.player,(function(t,n){return r("div",{key:n,staticClass:"roles"},[r("div",[r("p",{staticClass:"text-center"},[e._v(e._s(t.playerName))]),e._v(" "),r("div",{staticClass:"player",class:{roles01Img:1==t.playerOrder,roles02Img:2==t.playerOrder,roles03Img:3==t.playerOrder}})]),e._v(" "),r("div",{staticStyle:{height:"140px"}},[r("div",{staticClass:"treasureList"},e._l(t.treasureBox,(function(t,n){return r("div",{key:n},[!0!==t.hide?r("div",{staticClass:"cube",class:{treasureKind1:1==t.kind,treasureKind2:2==t.kind,treasureKind3:3==t.kind,treasureKind4:4==t.kind,treasureKind5:5==t.kind},on:{click:function(r){return e.putDown(t,n)}}},[e._m(0,!0),e._v(" "),r("div",[r("div",{staticClass:"side"}),e._v(" "),r("div"),e._v(" "),r("div",{staticClass:"side"}),e._v(" "),r("div",{staticClass:"bg-white"}),e._v(" "),r("div",{staticClass:"side"}),e._v(" "),r("div",{staticClass:"side textWrap"},[r("div",{staticClass:"textStyle"},[r("div",{staticClass:"integralText"},[e._v(e._s(t.integral))])])])])]):e._e()])})),0),e._v(" "),r("div",{staticClass:"w-100 mt-3 pl-2 text-white"},[e._v("回合積分："+e._s(e.countIntegral(t.treasureBox)))]),e._v(" "),r("div",{staticClass:"w-100 mt-2 pl-2 text-white"},[e._v("累計積分："+e._s(t.integralCount))])])])})),0),e._v(" "),r("div",{staticClass:"playerGroup v-m"},e._l(this.player,(function(t,n){return r("div",{key:n,staticClass:"roles"},[r("div",[r("p",{staticClass:"text-center"},[e._v(e._s(t.playerName))])]),e._v(" "),r("div",[r("div",{staticClass:"w-100 mt-2 mb-2 pl-2 text-white"},[e._v("回合積分："+e._s(e.countIntegral(t.treasureBox)))]),e._v(" "),r("div",{staticClass:"w-100 mb-2 pl-2 text-white"},[e._v("累計積分："+e._s(t.integralCount))])])])})),0),e._v(" "),r("div",{staticClass:"NextRoundBtn",class:{onlryWatchView:e.onlryWatch}},[e.roundNumber<3?r("button",{staticClass:"NextRoundGame mt-4",attrs:{disabled:e.loading},on:{click:e.clickNextRound}},[e.loading?r("div",{staticClass:"moveDom"},[r("div",{staticClass:"spinner-border spinner-border-sm text-light",attrs:{role:"status"}})]):r("div",[e._v("開始下一回合")])]):r("button",{staticClass:"NextRoundGame mt-4",on:{click:e.overGame}},[e._v("遊戲結束")])]),e._v(" "),r("div",{staticClass:"resText"},[e._v(e._s(e.resText))])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"side"}),this._v(" "),t("div"),this._v(" "),t("div",{staticClass:"side"}),this._v(" "),t("div"),this._v(" "),t("div",{staticClass:"side"}),this._v(" "),t("div",{staticClass:"side"})])}],!1,null,"21c9dfe6",null);t.default=component.exports}}]);